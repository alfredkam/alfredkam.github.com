<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="Ups and Downs of Entrepreneurship">
        <meta name="viewport" content="width=device-width">
        <title>post tagged with &ldquo;backbonejs&rdquo;</title>

        <link rel='stylesheet' href='/assets/components/bootstrap/dist/css/bootstrap.min.css' />
        <link rel='stylesheet' href='/assets/css/base.css' />
        <link rel='stylesheet' href='/assets/components/prismjs/prism-okaidia.css' />

        <!-- fontello -->
        <link rel="stylesheet" href="/assets/css/fontello-f19985b1/css/fontello.css" />
        <link rel="stylesheet" href="/assets/css/fontello-f19985b1/css/animation.css" />
        <!--[if IE 7]>
        <link rel="stylesheet" href="/assets/css/fontello-f19985b1/css/fontello-ie7.css" />
        <![endif]-->

        <!-- open sans font -->
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,600' rel='stylesheet' type='text/css' />

        <script src='/assets/components/jquery/jquery.min.js' type='text/javascript'></script>
    </head>
    <body>
    <header>
    <!-- nav -->
<nav class="navbar navbar-default" role="navigation">
    <div>
        <div class='col-xs-1 center'>
           <a class="navbar-brand" href="/">AK</a>
        </div>
        <div class='col-xs-10'>
            <div id='searchComponent' class='col-xs-2'>
            </div>
            <div class="navbar-header col-sm-10 title">
                <div class='col-sm-9'>
                    <span><a href='/'>Thoughts of Coding & Entrepreneurship</a></span>
                </div>
            </div>
        </div>
    </div>
    <div id='searchSpace'>
    </div>
</nav>
    </header>
  
<h2 class="post_title center">post tagged with &ldquo;backbonejs&rdquo;</h2>
  
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
  
      
          
      
          
            <div class='row'>
              <div class='col-md-1 center'>
                  <div class='commentCount'>
                    <a href='/goodbye-marionette-hello-react'>
                      <span>
                        <l class='icon-chat-alt'></l>
                      </span>
                      <span>
                        <a href="/goodbye-marionette-hello-react#disqus_thread">
                            0
                        </a>
                      </span>
                    </a>
                  </div>
              </div>
              <section class='post col-md-10'>
                <h1><a href="/goodbye-marionette-hello-react">Goodbye Marionette & Hello React</a></h1>
                <p class="author">
                  <span class="date">28 May 2014</span>
                </p>
                <div class="content">
                  <p>
     I have been developing a lot of large javascript web apps that requires a lot of subview management or componets and decentralize the model dependecies to better suit the component re-usability.  It was not till early this year, I was still designing them with Backbone + Marionette.  Now it's <b>Backbone + React or Angular + React</b>.  For this post let's concentrate in comparing Backbone + Mariontte & Backbone + React.   

     As we all know, Backbone 'View' itself is a design flaw.  It had a lot of issues regarding its memory management and sub view management.  Marionette on the other hand, did help solved the sub view management and memory issues by offering a wide range of common designs and design patterns to help build the application.
</p>

<p>
    Although Marionette provided a decent way to handle layout, subviews and code management, it is still too dependent on Backbone and gets more complex upon further sub view nesting. In Marionette the view is represented as a tree, the subviews is also part of the tree, thus if to render the middle layer must destruct and a rebuilt must occur. As well as rendering multiple Marionette Layers and Regions, although these Marionette functionalites are really awesome which helped took out the pain in backbone. While nesting those components doesnt play nicely with each other and hard to decouple, causing the sub layouts and sub regions to have an event show fire before its parent fires the show event.
</p>
<p>
    Consider in Marionette, you used a layout to display a widget on a page.  Within the widget there is also a layout before it calls the itemview.  In other words nested layout then itemview.
</p>
<div class='row'>
  <div class='col-md-12'>
    <img style='width:100%' src='/assets/img/layout-example-marionette+react.svg'></img>
  </div>
</div>
<pre class='language-javascript'>
    <code class='language-markup'>
      <!-- html structure -->
      &#60;html&#62;
        &#60;body&#62;
          <div id='menu'>
          </div>
          <div id='widget'>
          </div>
          <script id="some-template" type="text/html">
            <ul>
              <% _.each(items, function(item){ %>
              <li> <%= item.someAttribute %> </li>
              <% }); %>
            </ul>
          </script>

          <script id="some-comment-template" type="text/html">
            <ul>
                <li><%= item.someAttribute %> </li>
            </ul>
          </script>

          <script id="widget-layout-template" type="text/html">
            <div id='stats-region'>
            </div>
            <div id='comment-region'>
            </div>
          </script>
        &#60;/body&#62;
      &#60;/html&#62;
    </code>
    <code class='language-javascript'>
      //javascript code
      'use strict';

      define([
        'backbone', 'marionette'
      ], function(
        Backbone, Marionette
      ) {
        var AppLayout = Backbone.Marionette.Layout.extend({
          template : '#some-layout-template'
          regions : {
            widget : '#widget',
            menu : '#menu'  
          }
        });

        var MenuItem = Backbone.Marionette.IteView.extend({
          template : '#some-template'
        });

        var CommentItem = Backbone.Marionette.ItemView.extend({
          template : '#some-comment-template'
        });

        var StatsItem = Backbone.Marionette.ItemView.extend({
          template : '#some-template'
        });

        var CommentsCompositeView = Backbone.CompositeView.extend({
          template : '#some-comment-template',
          itemView : CommentItem
        });

        var WidgetLayout = Backbone.Marionette.Layout.extend({
          initialize : function () {
            this.collection = new Backbone.Collection();
          },
          template : '#widget-layout-template',
          regions : {
            stats : new Marionette.Region({
              el : "#stats-region"
            })
            comments : new Marionette.Region({
              el : '#comment-region'
            })
          },
          onShow : function () {
            this.regions.stats.show(new StatsItem(
              model : someModel
            ));
            this.regions.comments.show(new CommentsCompositeView({
              collection : this.collection
            }));
          }
        });

        var layout = new AppLayout();
        layout.render();
        layout.widget.show(new WidgetLayout());
        layout.menu.show(new MenuItem());
      });
    </code>
</pre>
<p>
  In this example we will run into a render issue with the sub region fire before the parent does.
</p>
<p>
  Now came 2014 and there is a new contender in the market called Facebook React, I'll just call it React for short.  React is a 'View' Framework.  So in terms of a MVC, its the 'V' Component.  Suprisingly React further simplified the entire landscape of 'View' framework.  It only expose the real nodes that you have
</p>
<p>
  Lets see how this will look like in React, ive also included the propeller <a href='https://github.com/usepropeller/react.backbone'>react.backbone</a>.  It allows us to feed in backbone models into react and databind with mixin.
</p>

<pre>
  <code class='language-markup'>
      <!-- html structure -->
      &#60;html&#62;
        &#60;body&#62;
        &#60;/body&#62;
      &#60;/html&#62;
  </code>
  <code class='language-javascript'>
    //javascript code
    /** @jsx React.DOM **/
    'use strict';

    define ([
      'jquery', backbone', 'react', 'react.backbone'
    ], function (
      $, Backbone, React,
    ) {

      var CommentComponent = React.createBackboneClass({
        var comments = this.props.collection.map(function(item) {
          return (
            {item.get('comment')}
          )
        });
        return (
          <div>
            {comments}
          </div>
        );
      });

      var StatsComponent = React.createBackboneClass({
        render : function () {
          return (
            <div> 
              {/* html template */}
            </div>
          );
        }
      });

      var MenuComponent = React.createBackboneClass({
        render : function () {
          return (
            <div> 
              {/* html template */}
            </div>
          );
        }
      });

      var WidgetLayout = React.createBackboneClass({
        componentWillMount : function () {
          this.collection = Backbone.Collection();
        },
        render : function () {
          return (
            <StatsComponent />
            <CommentsComponent collection={this.collection}/>
          )
        };
      });

      var AppLayout = React.createBackboneClass({
        render : function () {
          return (
            <div>
                <MenuComponent />
                <WidgetLayout />
            </div>
          );
        };
      });
      React.renderComponent({
        <AppLayout />,
        $('body')[0]
      });
    });
  </code>
</pre>
<p>
  The code base is smaller, easier to understand and to control.  Now some may ask about Angular + React comparing with Backbone + React.  For this I'll leave it to next post, but this is now pretty clear Marionette is out of the game.
</p>
                </div>
              </section>
            </div>
          
      
          
      
          
      
          
      
  
      
  
      
          
      
          
      
          
      
          
      
          
      
          
      
  
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
  
      
          
      
          
      
          
      
          
      
  
      
          
      
          
      
          
      
          
      
          
      
  
      
          
      
          
      
          
      
          
      
          
      
          
      
  
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
  
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
          
      
  
      
          
      
          
      
          
      
          
      
          
      
          
      
  
      
          
      
          
      
          
      
          
      
          
      
  
      
          
      
          
      
  
      
          
      
          
      
          
      
  
      
          
      
          
      
  
      
          
      
          
      
  
      
          
      
          
      
          
      
  
      
          
      
          
      
          
      
  
      
          
      
  
      
  
<div class='row'>
    <div class='col-md-1'>

    </div>
    <div class='col-md-11'>
        <div class="pagination">
            <span>&laquo; Prev</span>
            <em>1</em>
            <span>Next &raquo;</span>
        </div>
    </div>
</div>
</body>
    <footer>
        <div class='col-md-10 col-md-offset-1'>
            <div class='row'>
              <div class='col-md-4'>
                <h4>
                  About
                </h4>
                <div class='row'>
                  <div class='col-xs-4'>
                    <img src='http://www.gravatar.com/avatar/d9b3f7a32a3bf559aad23694c73eb8cc.png' style='width:100%'></img>
                  </div>
                  <p class='col-xs-8'>
                    Hello! I'm an Entrepreneur & Developer with primiary focus in javascript.  I'm also active in the field of computational biology.
                  </p>
                </div>
              </div>
              <div class='col-xs-4'>
                <h4>
                  Notable Works
                </h4>
                <p>
                  <a href='http://appfuel.me'>Appfuel</a><br>
                  <a href='http://phylo.cs.mcgill.ca'>PHYLO</a><br>
                  <a href='http://yako.io'>Yako</a><br>
                  <a href='/portfolio'>> More</a>
                </p>
              </div>
              <div class='col-sm-4'>
                <h4>
                  Stalking Aids
                </h4>
                <p class='socialBtns'>
                  <a href='http://github.com/alfredkam'><i class='icon-github'></i></a>
                  <a href='https://twitter.com/alfredkam'><i class='icon-twitter'></i></a>
                  <a href='http://www.linkedin.com/in/kamalfred'><i class='icon-linkedin'></i></a>
                </p>
              </div>
            </div>
            <div class='row'>
              <div class='col-md-12 copyright-info'>
                Alfred Kam &#169; 2014
              </div>
            </div>
        </div>    
    </footer>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
      ga('require', 'displayfeatures');
      ga('create', 'UA-25416273-1', 'alfredkam.com');
      ga('send', 'pageview');
    </script>
    <script src='/assets/components/lodash/dist/lodash.min.js' type='text/javascript'></script>
    <!--<script src='/assets/components/moment/min/moment.min.js' type='text/javascript'></script>-->
    <script type='text/javascript'>
      $('code').each(function () {
        var html = _.escape($(this).html());
        html = html.replace(/&amp;lt;/g,'&lt;');
        html = html.replace(/&amp;gt;/g,'&gt;');
        $(this).html(html);
      });
    </script>
    <script src='/assets/components/bootstrap/dist/js/bootstrap.min.js' type='text/javascript'></script>
    <script src='/assets/scripts/base.js' type='text/javascript'></script>
    <script src='/assets/components/prismjs/prism.js' type='text/javascript'/></script>
    <script src='/assets/components/prismjs/components/prism-markup.min.js' type="text/javascript"></script>
    <script src='/assets/components/prismjs/components/prism-bash.min.js' type='text/javascript'></script>
    <script src='/assets/components/prismjs/components/prism-css.min.js' type='text/javascript'></script>
    <script src='/assets/components/prismjs/components/prism-javascript.min.js' type='text/javascript'></script>
    <script src='/assets/components/prismjs/components/prism-python.min.js' type="text/javascript"></script>
    <script src='/assets/components/react/react.min.js' type='text/javascript'></script>
    <script src='/assets/components/react/JSXTransformer.js' type='text/javascript'></script>
    <script src='/assets/scripts/searchComponent.js' type='text/jsx'></script>
</html>